<!DOCTYPE html>
<html>
<head>
  <title>Quranize</title>

  <meta name="description" content="Quranize transforms {{.Alphabet}} into {{.QuranText}}.">
  <meta content="/file/quranize.png" property="og:image">
  <meta name=viewport content="width=device-width, initial-scale=1">

  <link rel="shortcut icon" href="/file/favicon.ico"/>
  <link rel="preload" href="//cdnjs.cloudflare.com/ajax/libs/foundation/6.3.1/css/foundation-flex.min.css" onload="this.rel='stylesheet'"/>
  <link rel="preload" href="/file/home.css" onload="this.rel='stylesheet'"/>
</head>
<body>
  <div id="app" hidden :hidden="false">
    <!-- header -->
    <h1 class="top-bar"><div class="text-center top-bar-left"><strong><a href="/" style="color:#0a0a0a">Quranize</a></strong></div></h1>
    <h5 class="text-center subheader">Quranize transforms <strong>{{"{{ alphabet }}"}}</strong> into <strong>{{"{{ quran }}"}}</strong>.</h5>

    <div class="row">
      <div class="medium-2 columns"></div>

      <!-- main content -->
      <div class="small-12 medium-8 columns">

        <!-- input -->
        <div class="row">
          <div class="small-12 columns">
            <input class="text-center" type="text" placeholder="bismillah" v-model="keyword" autofocus>
          </div>
        </div>

        <!-- top keywords -->
        <div class="row">
          <div class="small-12 columns">
            <div v-show="topKeywords.length" class="text-center header">Top Keywords</div>
            <div v-show="topKeywordsLoading" class="text-center"><i class="fa fa-spinner fa-pulse" aria-hidden="true"></i></div>
          </div>
        </div>
        <div class="row">
          <div v-for="topKeyword in topKeywords" class="small-6 medium-2 columns text-center">
            <a :href="'/'+topKeyword">{{"{{ topKeyword }}"}}</a>
          </div>
        </div>

        <!-- output -->
        <div class="row">
          <div class="small-12 columns">
            <div class="text-center" v-show="loading"><i class="fa fa-spinner fa-pulse fa-2x" aria-hidden="true"></i></div>

            <div class="text-center subheader" v-show="noResult">no result</div>

            <dl>
              <div v-for="encoded in encodeds">
                <dt @click="locate(encoded)" style="cursor: pointer;" class="text-center">
                  <i style="color: lightblue;" :class="{'fa-chevron-circle-left': !encoded.expanded, 'fa-chevron-circle-down': encoded.expanded}" class="fa" aria-hidden="true"></i>
                  <span class="quran-text">{{"{{ encoded.text }}"}}</span>
                </dt>
                <div v-show="encoded.expanded && encoded.loading" class="text-center"><i class="fa fa-spinner fa-pulse" aria-hidden="true"></i></div>
                <dd v-show="encoded.expanded" v-for="(location, index) in encoded.locations">
                  <div class="text-left">{{"{{ index+1 }}"}}. Surah <span class="quran-text">{{"{{ location.SuraName }}"}}</span> ayah {{"{{ location.Aya+1 }}"}}:</div>
                  <p class="text-right quran-text">
                    <span>{{"{{ location.AyaBeforeHL }}"}}</span>
                    <span style="background-color: yellow;">{{"{{ location.AyaHL }}"}}</span>
                    <span>{{"{{ location.AyaAfterHL }}"}}</span>
                  </p>
                  <hr>
                </dd>
              </div>
            </dl>

          </div>
        </div>

      </div>
    </div>
  </div>
</body>
<script async src="https://use.fontawesome.com/856743dd7b.js"></script>
{{if .Production}}
  <script src="//unpkg.com/vue@2.3.4/dist/vue.min.js"></script>
{{else}}
  <script src="//unpkg.com/vue@2.3.4/dist/vue.js"></script>
{{end}}
<script src="//cdn.jsdelivr.net/lodash/4.17.4/lodash.min.js"></script>
<script src="//unpkg.com/axios/dist/axios.min.js"></script>
<script src="/file/home.js"></script>
<script type="text/javascript">app.keyword = {{.Keyword}}</script>
</html>
